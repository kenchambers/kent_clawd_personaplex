# GitHub Development Skill

## Purpose

Create pull requests against Kent's repositories. Moltbot can propose improvements, fix bugs, and expand its own capabilitiesâ€”all through PRs that Kent reviews before merging.

## Core Principles

From SOUL.md:
> "Just create PRs for me to review, don't push anything live. I'll test and commit"

**Golden Rules:**
1. **Never push to main/master** - Always create branches and PRs
2. **Never force push** - Preserve history
3. **Clear PR descriptions** - Explain what and why
4. **Small, focused changes** - One concern per PR

## Accessible Repositories

Check MEMORY.md for the current repo registry. Each repo has a defined purpose:

- **Self-improvement repos** - Moltbot can propose enhancements to its own code
- **Trading repos** - Bug fixes, optimizations, analysis tools
- **Infrastructure repos** - Deployment, monitoring improvements

## PR Workflow

### 1. Before Making Changes

```bash
# Ensure we're on latest main
cd /path/to/repo
git fetch origin
git checkout main
git pull origin main

# Create feature branch
git checkout -b moltbot/[descriptive-name]
```

### 2. Making Changes with AI Coding Tools

Moltbot can use **Claude Code** or **Gemini CLI** to implement changes:

#### Option A: Claude Code (Recommended for complex changes)
```bash
cd /path/to/repo

# Let Claude Code implement the fix
claude --print "Fix the bug in main.py where the API timeout isn't handled properly. Create proper error handling with retry logic."

# Or for broader work
claude --print "Review this codebase and fix any security vulnerabilities you find"
```

#### Option B: Gemini CLI (Good for quick fixes)
```bash
cd /path/to/repo

# Headless mode with auto-approve for safe operations
gemini -p "Fix the type error in utils.py" --yolo

# Get structured output for verification
gemini -p "Add input validation to the create_order function" --output-format json
```

#### Option C: Combined Approach
```bash
# Use Gemini for analysis
gemini -p "Analyze this codebase and list the top 5 bugs" --output-format json > analysis.json

# Use Claude for implementation
claude --print "Fix the bugs identified in analysis.json"
```

### 3. Choosing the Right Tool

| Task | Best Tool | Why |
|------|-----------|-----|
| Complex refactoring | Claude Code | Better context handling |
| Quick bug fixes | Gemini CLI | Faster, `--yolo` mode |
| Code review | Either | Both work well |
| Large codebase changes | Claude Code | Handles many files better |
| Generate commit messages | Gemini CLI | Fast, JSON output |

### 4. Creating the PR

```bash
# Stage and commit
git add -A
git commit -m "feat: [clear description]

[Longer explanation if needed]

Generated by Moltbot"

# Push branch
git push -u origin moltbot/[branch-name]

# Create PR
gh pr create \
  --title "[type]: [description]" \
  --body "## Summary
- [bullet points of changes]

## Motivation
[why this change helps Kent's trading business]

## Testing
[how to verify this works]

Generated by Moltbot" \
  --base main
```

### 4. Notify Kent

After creating PR, send WhatsApp notification:
```
New PR ready for review:
[repo]: [title]
[link]

Changes: [1-2 sentence summary]
```

## Self-Improvement Mode

For `kent_clawd_personaplex` (this repo), Moltbot can:

1. **Propose capability expansions** - New skills, enhanced monitoring
2. **Fix issues discovered** - Bugs found during operation
3. **Update documentation** - Keep MEMORY.md, TOOLS.md current
4. **Optimize configurations** - Improve cron schedules, alerts

**Trigger:** "Improve yourself" or "Add [capability] to your skills"

## Trading Server PRs

For trading repos, Moltbot can:

1. **Fix bugs** - Issues discovered in logs or monitoring
2. **Add logging** - Better observability
3. **Optimize performance** - Identified bottlenecks
4. **Update dependencies** - Security patches

**Trigger:** "Fix the issue in [repo]" or "Improve [repo]"

## Safety Checks

Before any PR:
- [ ] Changes are on a branch, not main
- [ ] Commit message is clear
- [ ] PR description explains the change
- [ ] No secrets/credentials in code
- [ ] Changes are minimal and focused
